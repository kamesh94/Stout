<!doctype html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Kamesh Gupta - Stout Digital </title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/sticky-menu.css" rel="stylesheet">
</head>
<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header page-scroll">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle menu</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand page-scroll" href="#page-top">Welcome</a>
            </div>

            <div class="collapse navbar-collapse navbar-ex1-collapse">
                <ul class="nav navbar-nav">
                    <li class="hidden">
                        <a class="page-scroll" href="#page-top"></a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#caseStudy1">Case Study 1 - Lending Club</a>
                    </li>
                    <li>
                        <a class="page-scroll" href="#caseStudy2">Case Study 2 - Customer Orders</a>
                    </li>
                </ul>
            </div>	<!-- .navbar-collapse -->
        </div>		<!-- .container -->
    </nav>
    <!-- Welcome   -->
    <section id="welcome" class="welcome-section">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
					<br><br><br><br><br><br><br><br>
                    <h1>Stout Case Study</h1>
                </div>
            </div>
        </div>
    </section>

    <!-- About -->
    <section id="caseStudy1" class="about-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h1>Data Description and Issues</h1>
					<p>
					This data set represents thousands of loans made through the Lending Club platform, which is a platform that allows individuals to lend to other individuals.
					Dataset has 10000 rows with 55 columns. The columns are related to different factors that go into play when a loan is offered. Information such as Credit scores (through fields of delinquencies, credit history),
					Home location, Debt-to-Income Ratio, Loan Term and Principal, Collateral etc is offered by the dataset, which are almost always the main factors in deciding the interest rate is also provided by the data set. There is a presence of few Categorical columns and majority Numerical columns.
					Interesting fact about the data set is contains only loan offers made which is good for modelling what affects the interest rate positively. However, without the presense of loan denied information, we cannot judge trule what impacts interest rate holistically.
					Another issue with the dataset is the absence of a key identifier of the borrower. The presence of this information could help us answer many more questions - how has defaulting affected a borrower's interest rate over the years, how are good borrowers rewarded in the loan system and what has been the general population trend when it comes to borrowing money.				
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Data Visualization 1: State-wise loan breakdown</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-1.1.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-1.2.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
					<p>
						The above two graphs are aimed to provide a geographic insight on how the interest rate varies by different states of USA and what could be a potential reason for that.
						The second plot shows us the debt-to-income ratio per state. One can notice that darker shades on color on both the graph on almost similar states.
						We can assume that states that tend to have a higher average of debt-to-income ratio tend to have higher interest rates as well.
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Data Visualization 2 & 3: Delinquencies and Interest Rate</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-2.1.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-2.2.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-2.3.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>			
			<div class="row">
                <div class="col-lg-12">
					<p>
						Here we have 3 scatter plot to help us understand the impact of delinquencies on an individual's interest rate. The dataset has three variables which give us insights on a borrower's delinquencies.
						The first scatter plot of Delinquencies in past 2 years follows an expected trend both within the scatterplots as well as the bigger picture i.e. if a borrower has a history of past payment lapses, he/she would receive a loan at higher interest rate that the others.
						However, one can see some unexpected plot at delinq_2y = 6, where the overall plot tips a bit downward. Similar observation can be made for the variable months since last delinquencies.
						The third scatter plot, percent of account never delinquent, gives us a much stronger effect of delinquencies on interest rate and shows us that is an individual has a good percentage, he/she gets a lower interest rate
					</p>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Data Visualization 4: Loan Amount and Loan grade affecting Interest Rate</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-3.1.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <p>
						This is an interactive graph which shows are the interest rate varies by the type and grade of the loan.
						The input dataset was grouped by loan issue month and grade and average of interest rate and loan amount was then calculated.
						The graph shows data from 3 months when loans were sanctioned. In all the three months, it is very clear that the average interest rate is lowest for grade A and highest for grade G
						Hence, it is clear that the interest rate is affected heavily by the grade of the loan (to note that the grade of loan are categorized by this fact itself so one can say that this is a causal factor)
						The loan amount however is very much same across different interest rates and grades.
					</p>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Data Visualization 5: AMount Paid Back by different Application Type</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <iframe src="data-visualization-3new.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <p>
						The above overlapped histogram breaks down the principal amount paid and total amount paid by the categorical variable application type.
						One interesting point to note is individual loans are far more in quantity however, the amount of loan taken up by joint applicants surpasses individual applicants.
						This makes sense since a joint loan is usually of a higher amount.
						
					</p>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Data cleansing and assumptions prior to feature selection and model prediction</h3>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12 ">
                    <p>
						Based on the function run in the code, the output suggest we have 11 columns with 0/NAN values. We now evaluate whether these <strong>missing values</strong> make sense and can they be ignored or imputed
						<ul>
							<li>For num_accounts_120d_past_due column, we have 9682 0 values and 318 missing values. We can impute 0 to the missing values here easily since all the data other than missing is 0. It makes sense to remove this column from regression since it provides no value</li>
							<li>emp_title, emp_length, debt_to_income and months_since_last_credit_inquiry have low percent of 0/NAN values hence we ignore them for now</li>
							<li>verification_income_joint, annual_income_joint and debt_to_income_joint have the most missing values each almost 85%.These missing  values make sense since they will only be populated when application_type = joint.
							countOfJointApplications = 1495, 
							percentOfJointApplication = 14.95
							From the above calculation, it is very clear that the number of missing 'joint' type values (mostly 85%) is due to joint applications (14.95%)
							<li>It is hard to impute the joint income and debt ratio. We cannot consider joint income to be 0 since that would lead to extremely high value from debt ratio
							One way of dealing with this is to split the dataset into two datasets based on application type and model interest rate for each
							But that does not give us a good model. Since this data is MNAR - Missing Not At Random, we will evaluate the outliers for these columns before imputing the value</li>
						</ul>
					</p>
					<p>
					<strong>Outlier detection and handling</strong>
						<ul>
							<li>For joint account income, we know that we have 68 outliers out of total 1495 which is 4.5%. We replace it with the median value given the time constraint</li>
							<li>After dealing with outliers for annual_income_joint. Now we can replace the missing values with mean</li>
							<li>We replace outliers of all numerical columns to the 5th quantile and 95th quantile since the count of these outliers is not that much. We do this so that the outlier do not interfere with correct modelling</li>
						</ul>
					</p>
					<p>
					<strong>Data Assumptions</strong>
						<ul>
							<li>For months_since_last_delinq and months_since_90d_late, there are no 0 values. Assumption can be made that if no data is available on these two delays, one can assume that they have no such history and is imputed 0</li>
							<li>Missing Employment length may be replaced with the median of the column. It's assumed that an individual would have had an employment given the presence of income. In order to not let these values impact the prediction model, we assume them to be the median</li>
							<li>We assume 'Not Applicable' value for verification_income_joint column where there are missing values</li>
							<li>Assumption is made that debt of an individual and joint applicants is one and the same in order to make debt to income joint meaningful and non-missing</li>
						</ul>
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Feature Set Selection</h3>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <p>
						<ul>
							<li>Feature set selection is done through Wrapper method step-wise selection criteria</li>
							<li>Categorical variables are factorized into numerical values</li>
							<li>Before feature selection, the highly correlated columns are dropped from training set and testing set</li>
							<li>Feature set of size 15 is chosen at random</li>
						</ul>
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Model Selection</h3>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <p><strong>Best Subset Selection Algorithm</strong>
						<ul>
							<li>This is brute-force approach of testing the feature set combinations and minimizing the variables which would predict the model</li>
							<li>This approach has very high time complexity (2^k) and shouldnt be run for large number of independent variables</li>
							<li>Model with high R-squared value and low RSS is selected as the best predictive model</li>
						</ul>
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
					<img src="img/model-selection-1.png" alt="Best Subset Model">
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <p><strong>OLS method - checking p-values and eliminating non-significant variables</strong>
						<ul>
							<li>This approach runs a regression of interest rate against all feature set variables</li>
							<li>Once run, it produces an OLS summary which provides the statistical significane of each feature set member. The idea is to eliminate the least significant member and re-run the regression until only significant variables are left in the feature set</li>
							<li>In this case, the chosen feature set through the highly renowned Wrapper method (which internally uses a similar principal) prodcued a set of 15 featured variables of all which were significant in predicting interest rate</li>
						</ul>
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
					<img src="img/model-selection-2.png" alt="Best Subset Model">
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <p><strong>AIC Stepwise Selection model selection - Minimum AIC value model</strong>
						<ul>
							<li>This is probably the best algorithm to select a prediction model which would also consider interaction terms</li>
							<li>I have accomplished this through R. The procedure begin with a simple model like intercept model progressively adding features to the model such that the AIC value of the next model is lower than the one before</li>
							<li>Over-fitting is an issue with such a model. The output of this procedure is a model with an AIC value lower than the two previous models but has a lot of features (due to presence of interaction terms)<</li>
							<li>Looking at the Normal QQ Plot, a thin-tailed distribution exists, a Q-Q plot with a very less or negligible deviation at the ends thus making it a perfect fit for the Normal Distribution.</li>
						</ul>
					</p>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
					<img src="img/model-selection-3.1.png" alt="Best Subset Model">
					<img src="img/model-selection-3.2.png" alt="Best Subset Model">
					<img src="img/model-selection-3.3.png" alt="Best Subset Model">
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Feature Set and Model enhancement proposals</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <p>
						<ul>
							<li>Outlier detection and removal could have been more enhanced using the Winsorized estimators</li>
							<li>Transformation of data was not explored due to limited time frame. There might be better model predicting interest rate once transformed</li>
							<li>Accuracy of data set (i.e. hit ratios and odds ratio) could have validated the feature set</li>
						</ul>
					</p>
                </div>
            </div>
			<br>
        </div>
    </section>

    <section id="caseStudy2" class="whatwedo-section">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <h3>Total revenue for the current year</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
					<iframe src="case-study-2.1.html" width="100%" height="500" style="border:1px solid black;">  </iframe>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Existing Customer Statistics</h3>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
					<h4>Existing Customer Growth 2015-2016</h4>
					<br>
					<iframe src="case-study-2.2.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<h4>Existing Customer Growth 2016-2017</h4>
					<br>
					<iframe src="case-study-2.3.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<p>Below grouped bar chart shows existing customer growth through the years 2015-2017. *Please note*I have assumed that the beginning of data is the year 2015 i.e. all customers in 2015 are new
					Interstingly, existing customer revenue for 2016 current and previous year is much higher than that of 2017 however the existing customer growth is almost the same
					This may be stemmed out the fact that we have assumed no year priror to 2015
					</p>
					<br>
					<iframe src="case-study-2.4.html" width="100%" height="500" style="border:1px solid black;"></iframe>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>New Customer Statistics</h3>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
					<h4>New Customer Revenue 2016</h4>
					<br>
					<iframe src="case-study-2.5.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<h4>New Customer Revenue 2017</h4>
					<br>
					<iframe src="case-study-2.6.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<p>Here we have a scatter plot of new customer revenue year-wise. The size of the scatters resemble the number of new customers. For the purpose of our research, we should look at year 2016 and 2017
					Year 2017 has seen a huge jump in new customer acquisition along with the revenue they have bought in. Earlier, we had deduced that year 2016 was a stellar year for existing customer growth and now we know that 2017 to be the same for New Customer Growth
					</p>
					<br>
					<iframe src="case-study-2.7.html" width="100%" height="500" style="border:1px solid black;"></iframe>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Customer Attrition Statistics</h3>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
					<p>Here we have a scatter plot of customer attrition year-wise. The size of the scatters resemble the number of lost customers. For the purpose of our research, we should look at year 2016 and 2017
					Both 2016 and 2017 have seen a high attrition rate. The impact of this attrition on the revenue is huge. While, this attrition is more for 2016 than was it's gain of customers, 2017 managed to acquire more customers than it lost.
					That makes sense when we compare the first pie chart of total revenues and why 2017 has performed better than 2016.
					</p>
					<iframe src="case-study-2.8.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2.9.html" width="100%" height="500" style="border:1px solid black;"></iframe>
                </div>
            </div>
			<div class="row">
                <div class="col-lg-12">
                    <h3>Overall Customer Statistics</h3>
                </div>
            </div>
			<br>
			<div class="row">
                <div class="col-lg-12">
					<iframe src="case-study-2.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2a.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2b.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2c.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2d.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2e.html" width="100%" height="500" style="border:1px solid black;"></iframe>
					<br>
					<iframe src="case-study-2f.html" width="100%" height="500" style="border:1px solid black;"></iframe>
                </div>
            </div>
        </div>
    </section>
	
	<a id="back2Top" title="Back to top" href="#">&#10148;</a>
	
    <!-- jQuery -->
    <script src="js/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="js/bootstrap.min.js"></script>

    <!-- Scrolling Nav JavaScript -->
    <script src="js/jquery.easing.min.js"></script>
    <script src="js/sticky-menu.js"></script>

</body>

</html>
